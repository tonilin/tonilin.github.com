<html>
<head>
<title>Winmine</title>
<!--[if IE]><script type="text/javascript" src="./excanvas.js"></script><![endif]-->
<script type="text/javascript" src="jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="winmine.js"></script>
<script type="text/javascript" src="imageloader.js"></script>
<script type="text/javascript" src="state.js"></script>
</head>
<style type="text/css"> 
    body{
        margin:0;
        padding:0;
    }

</style>

<body onload="document.winmine.run();">
<canvas id="game" width="497" height="316">
Canvas not supported.
</canvas>

<br />

<script type="text/javascript" >
	document.winmine=new game();
	document.winmine.Initialize();
	var mousestate=0;					//1為壓下，0為放開
	var gameoffset;

	$("#game").mouseup(function(event) {  	  		//滑鼠彈起觸發
		mousestate=0;
		gameoffset=$("#game").offset();    //取得物件位置
		document.winmine.mouseup(event,gameoffset);
	});

	$("#game").mousedown(function(event) {  	   //滑鼠壓下觸發
		mousestate=1;
		gameoffset=$("#game").offset();    //取得物件位置
		document.winmine.mousedown(event,gameoffset);
	});	
	
	
	$("#game").mousemove(function(event) {  	    //滑鼠壓下且移動觸發
		if(mousestate==1)
		{
			gameoffset=$("#game").offset();    //取得物件位置
			document.winmine.mousedown(event,gameoffset);
		}
	});	

			//滑鼠右鍵觸發
	$("#game") .bind('contextmenu', function(event){
		gameoffset=$("#game").offset();    //取得物件位置
		document.winmine.rightclick(event);
		return false;
	});
   document.onselectstart = function(){
        return false;
    }
	
</script>

</body>
</html>
